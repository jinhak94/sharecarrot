<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
	<select id="selectBoardList" resultType="board">
		select
		    *
		from
		    board
		order by
		    board_no desc
	</select>
	
	<select id="getTotalContents" resultType="_int">
		select count(*)
		from board
	</select>
	
	<insert id="insertBoard">
		insert into board
		values (
			seq_board_no.nextval,
			#{boardTitle},
			#{boardContent},
			default,
			default,
			default,
			#{boardCategory},
			default,
			#{memberId}
		)
		
		<selectKey resultType="_int" keyProperty="boardNo" order="AFTER">
			select seq_board_no.currval
			from dual
		</selectKey>
	</insert>
	
	<insert id="insertBoardImg">
		insert into
			board_image
		values (
			seq_board_image_no.nextval,
			#{boardImgOrigin},
			#{boardImgRenamed},
			#{boardNo}
		)
	</insert>

</mapper>