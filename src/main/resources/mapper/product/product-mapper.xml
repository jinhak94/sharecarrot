<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="product">

	<select id="searchLocation" resultType="product">
		select * from product
		where shop_id in (
		select shop_id from shop
		where shop_id in (
		    select shop_id from member
		        where loc_code in (
		            select loc_code from location
		            where loc_name like '%' ||  #{locName} || '%'
		        )
		    ))
	</select>
	
	<select id="searchTitle" resultType="product">
		select * from product 
		where product_id like '%' ||  #{productName} || '%'
	</select>





























































































</mapper>